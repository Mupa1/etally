{
  "info": {
    "name": "Election Management System",
    "description": "Complete API collection for eTally backend",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "etally-v1"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "System",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            },
            "description": "Check if API server is running and healthy"
          },
          "response": []
        },
        {
          "name": "API Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api",
              "host": ["{{baseUrl}}"],
              "path": ["api"]
            },
            "description": "Get API version and information"
          },
          "response": []
        }
      ],
      "description": "System health and information endpoints"
    },
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', response.data.tokens.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', response.data.tokens.refreshToken);",
                  "    pm.collectionVariables.set('userId', response.data.user.id);",
                  "    console.log('✓ User registered and tokens saved');",
                  "    ",
                  "    pm.test('Status code is 201', () => {",
                  "        pm.response.to.have.status(201);",
                  "    });",
                  "    ",
                  "    pm.test('Response has user and tokens', () => {",
                  "        pm.expect(response.data).to.have.property('user');",
                  "        pm.expect(response.data).to.have.property('tokens');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nationalId\": \"12345678\",\n  \"email\": \"test@example.com\",\n  \"phoneNumber\": \"+254712345678\",\n  \"firstName\": \"Test\",\n  \"lastName\": \"User\",\n  \"password\": \"Test123!@#\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "register"]
            },
            "description": "Register a new user in the system"
          },
          "response": []
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', response.data.tokens.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', response.data.tokens.refreshToken);",
                  "    pm.collectionVariables.set('userId', response.data.user.id);",
                  "    console.log('✓ Login successful, tokens saved');",
                  "    ",
                  "    pm.test('Status code is 200', () => {",
                  "        pm.response.to.have.status(200);",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@elections.ke\",\n  \"password\": \"Admin123!@#\",\n  \"deviceInfo\": {\n    \"deviceName\": \"Postman Client\",\n    \"deviceModel\": \"Desktop\",\n    \"osVersion\": \"macOS 14.0\",\n    \"appVersion\": \"1.0.0\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "login"]
            },
            "description": "Login with email and password to get access tokens"
          },
          "response": []
        },
        {
          "name": "Get Profile",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Profile has required fields', () => {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data).to.have.property('id');",
                  "    pm.expect(response.data).to.have.property('email');",
                  "    pm.expect(response.data).to.have.property('role');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "profile"]
            },
            "description": "Get current logged-in user's profile"
          },
          "response": []
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', response.data.accessToken);",
                  "    console.log('✓ Access token refreshed');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "refresh"]
            },
            "description": "Get a new access token using refresh token"
          },
          "response": []
        },
        {
          "name": "Change Password",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"Admin123!@#\",\n  \"newPassword\": \"NewAdmin123!@#\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/change-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "change-password"]
            },
            "description": "Change current user's password"
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "logout"]
            },
            "description": "Logout user and invalidate refresh token"
          },
          "response": []
        }
      ],
      "description": "User authentication endpoints",
      "auth": {
        "type": "noauth"
      }
    },
    {
      "name": "Test Cases",
      "item": [
        {
          "name": "Invalid Email Format",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"invalid-email\",\n  \"password\": \"Test123!@\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "login"]
            },
            "description": "Should return 400 - Validation Error"
          },
          "response": []
        },
        {
          "name": "Weak Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nationalId\": \"12345678\",\n  \"email\": \"weak@test.com\",\n  \"firstName\": \"Test\",\n  \"lastName\": \"User\",\n  \"password\": \"weak\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "register"]
            },
            "description": "Should return 400 - Password requirements not met"
          },
          "response": []
        },
        {
          "name": "Duplicate Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nationalId\": \"99999999\",\n  \"email\": \"admin@elections.ke\",\n  \"firstName\": \"Test\",\n  \"lastName\": \"User\",\n  \"password\": \"Test123!@#\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "register"]
            },
            "description": "Should return 409 - Email already registered"
          },
          "response": []
        },
        {
          "name": "Missing Authorization Header",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "profile"]
            },
            "description": "Should return 401 - No authorization token provided"
          },
          "response": []
        },
        {
          "name": "Invalid Token",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer invalid_token_here"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "profile"]
            },
            "description": "Should return 401 - Invalid or expired token"
          },
          "response": []
        },
        {
          "name": "Wrong Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@elections.ke\",\n  \"password\": \"WrongPassword123!@\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "login"]
            },
            "description": "Should return 401 - Invalid email or password"
          },
          "response": []
        }
      ],
      "description": "Test cases for error handling and validation"
    },
    {
      "name": "Agent Registration (Public)",
      "item": [
        {
          "name": "Register New Agent",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"nationalId\": \"12345678\",\n  \"dateOfBirth\": \"1995-05-15T00:00:00Z\",\n  \"phoneNumber\": \"0712345678\",\n  \"email\": \"john.agent@example.com\",\n  \"preferredCountyId\": null,\n  \"preferredConstituencyId\": null,\n  \"preferredWardId\": null,\n  \"preferredStationId\": null,\n  \"termsAccepted\": true,\n  \"dataProcessingConsent\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/agent/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agent", "register"]
            },
            "description": "Public agent registration - no auth required"
          },
          "response": []
        },
        {
          "name": "Track Application",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/agent/track/OBS-2025-123456",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agent", "track", "OBS-2025-123456"]
            },
            "description": "Track application status by tracking number - no auth required"
          },
          "response": []
        },
        {
          "name": "Setup Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"password-setup-token-from-email\",\n  \"password\": \"SecurePassword123!\",\n  \"confirmPassword\": \"SecurePassword123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/agent/setup-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agent", "setup-password"]
            },
            "description": "Set password for approved agent - uses secure token from email"
          },
          "response": []
        },
        {
          "name": "Upload Profile Photo",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "/path/to/photo.jpg"
                },
                {
                  "key": "documentType",
                  "value": "profile_photo",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/agent/register/OBS-2025-123456/upload-document",
              "host": ["{{baseUrl}}"],
              "path": [
                "api",
                "agent",
                "register",
                "OBS-2025-123456",
                "upload-document"
              ]
            },
            "description": "Upload profile photo using tracking number - no auth required"
          },
          "response": []
        }
      ],
      "description": "Public agent registration endpoints (no authentication required)"
    },
    {
      "name": "Agent Geographic (Public)",
      "item": [
        {
          "name": "Get Counties",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/agent/geographic/counties",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agent", "geographic", "counties"]
            },
            "description": "Get all counties - rate limited (30/15min)"
          },
          "response": []
        },
        {
          "name": "Get Constituencies",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/agent/geographic/constituencies?countyId=",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agent", "geographic", "constituencies"],
              "query": [
                {
                  "key": "countyId",
                  "value": ""
                }
              ]
            },
            "description": "Get constituencies for county - rate limited (30/15min)"
          },
          "response": []
        },
        {
          "name": "Get Wards",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/agent/geographic/wards?constituencyId=",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agent", "geographic", "wards"],
              "query": [
                {
                  "key": "constituencyId",
                  "value": ""
                }
              ]
            },
            "description": "Get wards for constituency - rate limited (30/15min)"
          },
          "response": []
        },
        {
          "name": "Get Polling Stations",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/agent/geographic/polling-stations?wardId=",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agent", "geographic", "polling-stations"],
              "query": [
                {
                  "key": "wardId",
                  "value": ""
                }
              ]
            },
            "description": "Get polling stations for ward - rate limited (30/15min)"
          },
          "response": []
        }
      ],
      "description": "Public geographic endpoints for registration (rate limited, no auth)"
    },
    {
      "name": "Admin - Observer Management",
      "item": [
        {
          "name": "List Applications",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/admin/observers/applications?status=pending_review&limit=20&offset=0",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "observers", "applications"],
              "query": [
                {
                  "key": "status",
                  "value": "pending_review"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "offset",
                  "value": "0"
                }
              ]
            },
            "description": "List observer applications - requires super_admin or election_manager"
          },
          "response": []
        },
        {
          "name": "Get Application Detail",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/admin/observers/applications/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "observers", "applications", ":id"]
            },
            "description": "Get detailed application information"
          },
          "response": []
        },
        {
          "name": "Approve Application",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"action\": \"approve\",\n  \"notes\": \"All documents verified and accepted\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/observers/applications/:id/review",
              "host": ["{{baseUrl}}"],
              "path": [
                "api",
                "admin",
                "observers",
                "applications",
                ":id",
                "review"
              ]
            },
            "description": "Approve observer application - creates user account and sends password setup email"
          },
          "response": []
        },
        {
          "name": "Reject Application",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"action\": \"reject\",\n  \"rejectionReason\": \"Incomplete documentation\",\n  \"notes\": \"National ID photo is unclear\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/observers/applications/:id/review",
              "host": ["{{baseUrl}}"],
              "path": [
                "api",
                "admin",
                "observers",
                "applications",
                ":id",
                "review"
              ]
            },
            "description": "Reject observer application - sends rejection email"
          },
          "response": []
        },
        {
          "name": "Bulk Approve Applications",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"applicationIds\": [\n    \"uuid-1\",\n    \"uuid-2\",\n    \"uuid-3\"\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/observers/bulk-approve",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "observers", "bulk-approve"]
            },
            "description": "Bulk approve multiple applications at once"
          },
          "response": []
        },
        {
          "name": "Get Observer Statistics",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/admin/observers/statistics",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "observers", "statistics"]
            },
            "description": "Get observer registration statistics"
          },
          "response": []
        }
      ],
      "description": "Admin endpoints for managing observer applications"
    },
    {
      "name": "User Management",
      "item": [
        {
          "name": "List All Users",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/users",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "users"]
            },
            "description": "Get list of all users - requires super_admin"
          },
          "response": []
        },
        {
          "name": "Update User Status",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isActive\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/users/:userId/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "users", ":userId", "status"]
            },
            "description": "Activate/deactivate user account - requires super_admin"
          },
          "response": []
        },
        {
          "name": "First Login Password Change",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"Admin123!@#\",\n  \"newPassword\": \"NewSecurePass123!@#\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/first-login-password-change",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "first-login-password-change"]
            },
            "description": "Change password on first login for initial super admin"
          },
          "response": []
        }
      ],
      "description": "User management endpoints"
    },
    {
      "name": "Geographic Data (Admin)",
      "item": [
        {
          "name": "Bulk Upload Geographic Data",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": [],\n  \"chunkIndex\": 0,\n  \"totalChunks\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/geographic/bulk-upload",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "geographic", "bulk-upload"]
            },
            "description": "Bulk upload geographic data - requires super_admin"
          },
          "response": []
        },
        {
          "name": "Get Geographic Statistics",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/geographic/stats",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "geographic", "stats"]
            },
            "description": "Get basic geographic statistics"
          },
          "response": []
        },
        {
          "name": "Get Voting Area Statistics",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/geographic/voting-stats?countyId=&constituencyId=&wardId=&isActive=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "geographic", "voting-stats"],
              "query": [
                {
                  "key": "countyId",
                  "value": ""
                },
                {
                  "key": "constituencyId",
                  "value": ""
                },
                {
                  "key": "wardId",
                  "value": ""
                },
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            },
            "description": "Get comprehensive voting area statistics with voter counts"
          },
          "response": []
        },
        {
          "name": "Get Hierarchy Data",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/geographic/hierarchy?level=county&page=1&limit=100",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "geographic", "hierarchy"],
              "query": [
                {
                  "key": "level",
                  "value": "county"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "100"
                }
              ]
            },
            "description": "Get hierarchical data with drill-down support"
          },
          "response": []
        },
        {
          "name": "Search Polling Stations",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/geographic/search?search=&page=1&limit=20&sortBy=name&sortOrder=asc",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "geographic", "search"],
              "query": [
                {
                  "key": "search",
                  "value": ""
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "sortBy",
                  "value": "name"
                },
                {
                  "key": "sortOrder",
                  "value": "asc"
                }
              ]
            },
            "description": "Search and filter polling stations with full hierarchy"
          },
          "response": []
        },
        {
          "name": "Get Counties (Admin)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/geographic/counties?isActive=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "geographic", "counties"],
              "query": [
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            },
            "description": "Get all counties with nested data"
          },
          "response": []
        },
        {
          "name": "Get Constituencies (Admin)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/geographic/constituencies?countyId=&isActive=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "geographic", "constituencies"],
              "query": [
                {
                  "key": "countyId",
                  "value": ""
                },
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            },
            "description": "Get constituencies with nested wards and polling stations"
          },
          "response": []
        },
        {
          "name": "Get Wards (Admin)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/geographic/wards?constituencyId=&isActive=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "geographic", "wards"],
              "query": [
                {
                  "key": "constituencyId",
                  "value": ""
                },
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            },
            "description": "Get wards with nested polling stations"
          },
          "response": []
        },
        {
          "name": "Get Polling Stations (Admin)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/geographic/polling-stations?wardId=&isActive=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "geographic", "polling-stations"],
              "query": [
                {
                  "key": "wardId",
                  "value": ""
                },
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            },
            "description": "Get polling stations with hierarchy information"
          },
          "response": []
        }
      ],
      "description": "Geographic data management endpoints (authenticated)"
    },
    {
      "name": "Elections",
      "item": [
        {
          "name": "Get Election Statistics",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/elections/stats",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "elections", "stats"]
            },
            "description": "Get election statistics filtered by user's geographic scope"
          },
          "response": []
        },
        {
          "name": "Create Election",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"General Elections 2025\",\n  \"electionType\": \"general\",\n  \"electionDate\": \"2025-08-09T00:00:00Z\",\n  \"description\": \"National general elections\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/elections",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "elections"]
            },
            "description": "Create a new election - requires 'create' permission"
          },
          "response": []
        },
        {
          "name": "List Elections",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/elections",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "elections"]
            },
            "description": "List all elections filtered by user's geographic scope"
          },
          "response": []
        },
        {
          "name": "Get Election Details",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/elections/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "elections", ":id"]
            },
            "description": "Get election details by ID"
          },
          "response": []
        },
        {
          "name": "Update Election",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Election Name\",\n  \"description\": \"Updated description\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/elections/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "elections", ":id"]
            },
            "description": "Update an election - requires 'update' permission"
          },
          "response": []
        },
        {
          "name": "Delete Election",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/elections/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "elections", ":id"]
            },
            "description": "Delete an election - requires 'delete' permission"
          },
          "response": []
        },
        {
          "name": "Approve Election",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/elections/:id/approve",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "elections", ":id", "approve"]
            },
            "description": "Approve an election - requires 'approve' permission"
          },
          "response": []
        }
      ],
      "description": "Election management endpoints with ABAC protection"
    },
    {
      "name": "ABAC - Policies",
      "item": [
        {
          "name": "Create Policy",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Field Observer Create Election\",\n  \"description\": \"Allow field observers to create elections\",\n  \"role\": \"field_observer\",\n  \"resourceType\": \"election\",\n  \"action\": \"create\",\n  \"conditions\": {\n    \"requireOwnership\": false\n  },\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/policies",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "policies"]
            },
            "description": "Create a new ABAC policy - requires super_admin"
          },
          "response": []
        },
        {
          "name": "List Policies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/policies?isActive=true&resourceType=&role=",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "policies"],
              "query": [
                {
                  "key": "isActive",
                  "value": "true"
                },
                {
                  "key": "resourceType",
                  "value": ""
                },
                {
                  "key": "role",
                  "value": ""
                }
              ]
            },
            "description": "List all policies with optional filters"
          },
          "response": []
        },
        {
          "name": "Get Policy",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/policies/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "policies", ":id"]
            },
            "description": "Get policy by ID"
          },
          "response": []
        },
        {
          "name": "Update Policy",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Policy Name\",\n  \"description\": \"Updated description\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/policies/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "policies", ":id"]
            },
            "description": "Update policy"
          },
          "response": []
        },
        {
          "name": "Delete Policy",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/policies/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "policies", ":id"]
            },
            "description": "Delete policy"
          },
          "response": []
        },
        {
          "name": "Toggle Policy",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isActive\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/policies/:id/toggle",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "policies", ":id", "toggle"]
            },
            "description": "Enable/disable policy"
          },
          "response": []
        }
      ],
      "description": "ABAC policy management"
    },
    {
      "name": "ABAC - User Scopes",
      "item": [
        {
          "name": "Assign Geographic Scope",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"countyId\": \"county-id-here\",\n  \"constituencyId\": \"constituency-id-here\",\n  \"wardId\": \"ward-id-here\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/:userId/scopes",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", ":userId", "scopes"]
            },
            "description": "Assign geographic scope to user"
          },
          "response": []
        },
        {
          "name": "Get User Scopes",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/:userId/scopes",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", ":userId", "scopes"]
            },
            "description": "Get user's geographic scopes"
          },
          "response": []
        },
        {
          "name": "Remove Scope",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/scopes/:scopeId",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "scopes", ":scopeId"]
            },
            "description": "Remove geographic scope"
          },
          "response": []
        },
        {
          "name": "Get Users by Scope",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/scopes/users?countyId=&constituencyId=&wardId=",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "scopes", "users"],
              "query": [
                {
                  "key": "countyId",
                  "value": ""
                },
                {
                  "key": "constituencyId",
                  "value": ""
                },
                {
                  "key": "wardId",
                  "value": ""
                }
              ]
            },
            "description": "Get users by geographic scope"
          },
          "response": []
        }
      ],
      "description": "ABAC geographic scope management"
    },
    {
      "name": "ABAC - Permissions",
      "item": [
        {
          "name": "Grant Permission",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"resourceType\": \"election\",\n  \"resourceId\": \"election-id-here\",\n  \"action\": \"update\",\n  \"expiresAt\": \"2025-12-31T23:59:59Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/:userId/permissions",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", ":userId", "permissions"]
            },
            "description": "Grant permission to user"
          },
          "response": []
        },
        {
          "name": "Get User Permissions",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/:userId/permissions?includeExpired=false",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", ":userId", "permissions"],
              "query": [
                {
                  "key": "includeExpired",
                  "value": "false"
                }
              ]
            },
            "description": "List user's permissions"
          },
          "response": []
        },
        {
          "name": "Revoke Permission",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/permissions/:permissionId",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "permissions", ":permissionId"]
            },
            "description": "Revoke permission"
          },
          "response": []
        },
        {
          "name": "Cleanup Expired Permissions",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/permissions/cleanup",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "permissions", "cleanup"]
            },
            "description": "Revoke all expired permissions (maintenance)"
          },
          "response": []
        }
      ],
      "description": "ABAC permission management"
    },
    {
      "name": "ABAC - Audit & Analytics",
      "item": [
        {
          "name": "Get Audit Trail",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/permissions/audit?userId=&resourceType=&granted=&startDate=&endDate=",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "permissions", "audit"],
              "query": [
                {
                  "key": "userId",
                  "value": ""
                },
                {
                  "key": "resourceType",
                  "value": ""
                },
                {
                  "key": "granted",
                  "value": ""
                },
                {
                  "key": "startDate",
                  "value": ""
                },
                {
                  "key": "endDate",
                  "value": ""
                }
              ]
            },
            "description": "Get permission check audit trail"
          },
          "response": []
        },
        {
          "name": "Get User Permission Stats",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/:userId/permissions/stats?days=30",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", ":userId", "permissions", "stats"],
              "query": [
                {
                  "key": "days",
                  "value": "30"
                }
              ]
            },
            "description": "Get user's permission statistics"
          },
          "response": []
        },
        {
          "name": "Get System Permission Stats",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/permissions/stats?days=30",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "permissions", "stats"],
              "query": [
                {
                  "key": "days",
                  "value": "30"
                }
              ]
            },
            "description": "Get system-wide permission statistics"
          },
          "response": []
        }
      ],
      "description": "ABAC audit trail and analytics"
    },
    {
      "name": "System Configurations",
      "item": [
        {
          "name": "Get All Configurations",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/configurations",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "configurations"]
            },
            "description": "Get all system configurations - requires super_admin"
          },
          "response": []
        },
        {
          "name": "Bulk Create Configurations",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"configurations\": [\n    {\n      \"key\": \"setting1\",\n      \"name\": \"Setting 1\",\n      \"value\": \"value1\",\n      \"type\": \"string\",\n      \"category\": \"general\"\n    },\n    {\n      \"key\": \"setting2\",\n      \"name\": \"Setting 2\",\n      \"value\": \"value2\",\n      \"type\": \"string\",\n      \"category\": \"general\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/configurations/bulk",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "configurations", "bulk"]
            },
            "description": "Bulk create multiple configurations - requires super_admin"
          },
          "response": []
        },
        {
          "name": "Get Configurations by Category",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/configurations/category/email",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "configurations", "category", "email"]
            },
            "description": "Get configurations for specific category (email, security, general, etc.)"
          },
          "response": []
        },
        {
          "name": "Get Configuration by Key",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/configurations/key/smtp_host",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "configurations", "key", "smtp_host"]
            },
            "description": "Get specific configuration by key"
          },
          "response": []
        },
        {
          "name": "Create Configuration",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"key\": \"custom_setting\",\n  \"name\": \"Custom Setting\",\n  \"description\": \"A custom configuration\",\n  \"value\": \"test_value\",\n  \"type\": \"string\",\n  \"category\": \"general\",\n  \"isRequired\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/configurations",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "configurations"]
            },
            "description": "Create new configuration - requires super_admin"
          },
          "response": []
        },
        {
          "name": "Get Configuration by ID",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/configurations/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "configurations", ":id"]
            },
            "description": "Get specific configuration by ID"
          },
          "response": []
        },
        {
          "name": "Update Configuration",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Name\",\n  \"value\": \"new_value\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/configurations/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "configurations", ":id"]
            },
            "description": "Update configuration by ID"
          },
          "response": []
        },
        {
          "name": "Update Configuration Value by Key",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"value\": \"smtp.office365.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/configurations/key/smtp_host",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "configurations", "key", "smtp_host"]
            },
            "description": "Update configuration value by key - quick update"
          },
          "response": []
        },
        {
          "name": "Delete Configuration",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/configurations/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "configurations", ":id"]
            },
            "description": "Delete configuration - cannot delete required configs"
          },
          "response": []
        },
        {
          "name": "Reset Configuration to Default",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/configurations/:id/reset",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "configurations", ":id", "reset"]
            },
            "description": "Reset configuration to default value - requires super_admin"
          },
          "response": []
        },
        {
          "name": "Get Configuration Categories",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/configurations/categories/list",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "configurations", "categories", "list"]
            },
            "description": "Get all configuration categories with counts"
          },
          "response": []
        }
      ],
      "description": "System configuration management - requires super_admin"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-set timestamp for requests",
          "pm.variables.set('timestamp', new Date().toISOString());"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test: Check response time",
          "pm.test('Response time is less than 2000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(2000);",
          "});",
          "",
          "// Log response for debugging",
          "console.log('Response:', pm.response.json());"
        ]
      }
    }
  ]
}
